@model ETSU_Marketplace.ViewModels.ListingCardViewModel

<div class="listing-card">
    <div class="listing-card__image">
        <img src="@(Model.ImageUrl ?? "/images/placeholder.png")" alt="@Model.Title" />
    </div>

    <div class="listing-card__body">
        <div class="listing-card__meta">
            <span class="badge">@Model.ListingType</span>

            @if (!string.IsNullOrWhiteSpace(Model.CategoryLabel))
            {
                <span class="chip">@Model.CategoryLabel</span>
            }

            @if (!string.IsNullOrWhiteSpace(Model.ConditionLabel))
            {
                <span class="chip">@Model.ConditionLabel</span>
            }
        </div>

        <h3 class="listing-card__title">@Model.Title</h3>
        <p class="listing-card__desc">@Model.ShortDescription</p>

        <div class="listing-card__footer">
            <span class="listing-card__price">$@Model.Price</span>

            <div class="listing-card__actions">
                @if (Model.ShowOwnerActions)
                {
                    if (Model.ListingType == "Item")
                    {
                        <a asp-controller="ItemListings"           asp-action="Edit"           asp-route-id="@Model.Id"
                               class="btn btn-sm btn-outline-primary fw-bold">
                            Edit
                        </a>

                        <a asp-controller="ItemListings" asp-action="Delete" asp-route-id="@Model.Id"
                               class="btn btn-sm btn-outline-danger fw-bold">
                            Delete
                        </a>
                    }
                    else
                    {
                        <a asp-controller="LeaseListings" asp-action="Edit" asp-route-id="@Model.Id"
                               class="btn btn-sm btn-outline-primary fw-bold">
                            Edit
                        </a>

                        <a asp-controller="LeaseListings"     asp-action="Delete"        asp-route-id="@Model.Id"
                               class="btn btn-sm btn-outline-danger fw-bold">
                            Delete
                        </a>
                    }
                }
                else
                {
                    if (Model.ListingType == "Item")
                    {
                        <a class="btn btn-primary"          asp-controller="ItemListings"             asp-action="Details"               asp-route-id="@Model.Id"
                               asp-route-type="@Model.ListingType">
                            View Details
                        </a>
                    }
                    else
                    {
                        <a class="btn btn-primary"               asp-controller="LeaseListings"                  asp-action="Details"   asp-route-id="@Model.Id"
                               asp-route-type="@Model.ListingType">
                            View Details
                        </a>
                    }
                }
            </div>
        </div>

        <div class="listing-card__date">
            Posted @Model.CreatedAt.ToString("MMM d, yyyy")
        </div>
    </div>
</div>